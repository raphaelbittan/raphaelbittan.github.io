!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(r){"use strict";var n=function(e,t){t=r.isPlainObject(t)?t:{},this.$element=r(e),this.defaults=r.extend({},n.defaults,this.$element.data(),t),this.init()},i=Math.floor,o=1e3,u=6e4,f=36e5,h=24*f,d=7*h,c=31*h,m=365*h;n.prototype={constructor:n,init:function(){var e=this.$element,t=this.defaults,s=e.is("input"),a=s?e.val():e.text();this.isInput=s,this.originalDate=a,this.format=n.fn.parseFormat(t.dateFormat),this.setDate(t.date||a),this.active=!0,this.date&&(this.prettify(),t.autoUpdate&&this.update())},setDate:function(e){e&&(this.date=n.fn.parseDate(e,this.format))},prettify:function(){var e,t=(new Date).getTime()-this.date.getTime(),s=0<t,a=this.defaults.messages,r=this.$element;this.active&&(e=(e=(t=t<0?o-t:t)<2e3?a.second:t<u?a.seconds.replace("%s",i(t/o)):t<2*u?a.minute:t<f?a.minutes.replace("%s",i(t/u)):t<2*f?a.hour:t<h?a.hours.replace("%s",i(t/f)):t<2*h?s?a.yesterday:a.tomorrow:t<3*h?s?a.beforeYesterday:a.afterTomorrow:t<d?a.days.replace("%s",i(t/h)):t<2*d?a.week:t<4*d?a.weeks.replace("%s",i(t/d)):t<2*c?a.month:t<m?a.months.replace("%s",i(t/c)):t<2*m?a.year:a.years.replace("%s",i(t/m))).replace("%s",s?this.defaults.beforeSuffix:this.defaults.afterSuffix),this.isInput?r.val(e):r.text(e),this.prettyDate=e)},destroy:function(){var e=this.$element,t=this.originalDate;this.active&&(this.defaults.autoUpdate&&this.autoUpdate&&clearInterval(this.autoUpdate),this.isInput?e.val(t):e.text(t),e.removeData("prettydate"),this.active=!1)},update:function(){var e=this.defaults.duration,t=this;"number"==typeof e&&0<e&&(this.autoUpdate=setInterval(function(){t.prettify()},e))}},n.fn={parseFormat:function(e){var t="string"==typeof e?e.match(/(\w+)/g):[],s=!1;if(!t||0===t.length)throw new Error("Invalid date format.");return e=r.map(t,function(e){var t=e.substr(0,1);switch(t){case"S":case"s":t="s";break;case"m":t=s?"m":"M",s=!0;break;case"H":case"h":t="h";break;case"D":case"d":t="D";break;case"M":t="M",s=!0;break;case"Y":case"y":t="Y"}return t})},parseDate:function(e,t){var s="string"==typeof e?e.match(/(\d+)/g):[],a={Y:0,M:0,D:0,h:0,m:0,s:0};return(e=r.isArray(s)&&r.isArray(t)&&s.length===t.length?(r.each(t,function(e,t){a[t]=parseInt(s[e],10)||0}),a.Y+=0<a.Y&&a.Y<100?2e3:0,new Date(a.Y,a.M-1,a.D,a.h,a.m,a.s)):new Date(e)).getTime()?e:null}},n.defaults={afterSuffix:"later",beforeSuffix:"ago",autoUpdate:!1,date:null,dateFormat:"YYYY-MM-DD hh:mm:ss",duration:6e4,messages:{second:"Just now",seconds:"%s seconds %s",minute:"One minute %s",minutes:"%s minutes %s",hour:"One hour %s",hours:"%s hours %s",day:"One day %s",days:"%s days %s",week:"One week %s",weeks:"%s weeks %s",month:"One month %s",months:"%s months %s",year:"One year %s",years:"%s years %s",yesterday:"Yesterday",beforeYesterday:"The day before yesterday",tomorrow:"Tomorrow",afterTomorrow:"The day after tomorrow"}},n.setDefaults=function(e){r.extend(n.defaults,e)},r.fn.prettydate=function(s,a){return this.each(function(){var e=r(this),t=e.data("prettydate");t||e.data("prettydate",t=new n(this,s)),"string"==typeof s&&r.isFunction(t[s])&&t[s](a)})},r.fn.prettydate.constructor=n,r.fn.prettydate.setDefaults=n.setDefaults,r(function(){r("[prettydate]").prettydate()})});